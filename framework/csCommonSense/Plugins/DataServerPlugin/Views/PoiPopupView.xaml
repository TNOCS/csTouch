<UserControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:s="http://schemas.microsoft.com/surface/2008"
             xmlns:cal="http://www.caliburnproject.org"
             xmlns:slideTab="clr-namespace:csShared.Controls.SlideTab"
             xmlns:views="clr-namespace:csDataServerPlugin.Views"
             xmlns:controls="clr-namespace:csShared.Controls"
             xmlns:viewModels="clr-namespace:csDataServerPlugin.ViewModels"
             xmlns:wpfConverters="clr-namespace:WpfConverters"
             xmlns:dataServer="clr-namespace:DataServer"
             xmlns:csDataServerPlugin="clr-namespace:csDataServerPlugin"
             xmlns:pivotControl="clr-namespace:csCommon.csMapCustomControls.PivotControl"
             xmlns:system="clr-namespace:System;assembly=mscorlib"
             xmlns:mapCallOut="clr-namespace:csShared.Controls.Popups.MapCallOut"
             x:Name="PopupControl"
             x:Class="csDataServerPlugin.PoiPopupView"
             mc:Ignorable="d"
             d:DesignHeight="300"
             d:DesignWidth="300"
             d:DataContext="{d:DesignInstance csDataServerPlugin:PoiPopupViewModel}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/csCommon;component/Resources/Styles/BlackStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <DataTemplate x:Key="DefaultDataTemplate">
                <ContentControl cal:View.Model="{Binding}"
                                HorizontalAlignment="Stretch"
                                MinHeight="150"
                                HorizontalContentAlignment="Stretch"
                                Margin="0,-1,0,1" />
            </DataTemplate>

            <Style x:Key="SurfaceScrollViewerStyle1"
                   TargetType="{x:Type s:SurfaceScrollViewer}">
                <Setter Property="Elasticity"
                        Value="0.4,0.4" />
                <Setter Property="HorizontalScrollBarVisibility"
                        Value="Auto" />
                <Setter Property="VerticalScrollBarVisibility"
                        Value="Auto" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type s:SurfaceScrollViewer}">
                            <Grid Background="{TemplateBinding Background}"
                                  HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Border x:Name="PART_ElasticBorder"
                                        Background="{TemplateBinding Background}">
                                    <ScrollContentPresenter CanContentScroll="{TemplateBinding CanContentScroll}"
                                                            CanHorizontallyScroll="False"
                                                            Grid.ColumnSpan="1"
                                                            CanVerticallyScroll="False"
                                                            ContentTemplate="{TemplateBinding ContentTemplate}"
                                                            Content="{TemplateBinding Content}"
                                                            Grid.Column="0"
                                                            ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                            Margin="-1"
                                                            Grid.Row="0"
                                                            Grid.RowSpan="1" />
                                </Border>
                                <s:SurfaceScrollBar x:Name="PART_HorizontalScrollBar"
                                                    AutomationProperties.AutomationId="HorizontalScrollBar"
                                                    Grid.Column="0"
                                                    Foreground="{x:Null}"
                                                    HorizontalAlignment="Stretch"
                                                    HorizontalContentAlignment="Stretch"
                                                    Height="Auto"
                                                    ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                    LargeChange="1"
                                                    Maximum="{TemplateBinding ScrollableWidth}"
                                                    Minimum="0"
                                                    Orientation="Horizontal"
                                                    Grid.Row="1"
                                                    Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
                                                    Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                                                    ViewportSize="{TemplateBinding ViewportWidth}"
                                                    VerticalContentAlignment="Stretch">
                                    <s:SurfaceScrollBar.Style>
                                        <Style TargetType="{x:Type s:SurfaceScrollBar}">
                                            <Style.Resources>
                                                <system:Double x:Key="{x:Static SystemParameters.VerticalScrollBarButtonHeightKey}">38</system:Double>
                                                <system:Double x:Key="{x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}">38</system:Double>
                                            </Style.Resources>
                                            <Setter Property="Stylus.IsPressAndHoldEnabled"
                                                    Value="False" />
                                            <Setter Property="Stylus.IsFlicksEnabled"
                                                    Value="False" />
                                            <Setter Property="Width"
                                                    Value="38" />
                                            <Setter Property="Height"
                                                    Value="Auto" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type s:SurfaceScrollBar}">
                                                        <Grid x:Name="GridRoot"
                                                              Background="{TemplateBinding Background}">
                                                            <Border x:Name="Track"
                                                                    HorizontalAlignment="Stretch"
                                                                    VerticalAlignment="Stretch">
                                                                <Track x:Name="PART_Track"
                                                                       IsDirectionReversed="True">
                                                                    <Track.DecreaseRepeatButton>
                                                                        <s:SurfaceRepeatButton x:Name="DecreaseRepeat"
                                                                                               Background="{TemplateBinding Background}"
                                                                                               Command="ScrollBar.PageUpCommand"
                                                                                               HorizontalAlignment="Center">
                                                                            <s:SurfaceRepeatButton.Style>
                                                                                <Style TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                    <Setter Property="Interval"
                                                                                            Value="150" />
                                                                                    <Setter Property="BorderBrush"
                                                                                            Value="{x:Null}" />
                                                                                    <Setter Property="Background"
                                                                                            Value="Transparent" />
                                                                                    <Setter Property="OverridesDefaultStyle"
                                                                                            Value="True" />
                                                                                    <Setter Property="Focusable"
                                                                                            Value="False" />
                                                                                    <Setter Property="IsTabStop"
                                                                                            Value="False" />
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                                <Grid Background="{TemplateBinding Background}"
                                                                                                      Width="40">
                                                                                                    <Rectangle x:Name="Line"
                                                                                                               Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                               HorizontalAlignment="Center"
                                                                                                               MinWidth="2" />
                                                                                                </Grid>
                                                                                                <ControlTemplate.Triggers>
                                                                                                    <Trigger Property="IsEnabled"
                                                                                                             Value="False">
                                                                                                        <Setter Property="Fill"
                                                                                                                TargetName="Line"
                                                                                                                Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                    </Trigger>
                                                                                                </ControlTemplate.Triggers>
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </s:SurfaceRepeatButton.Style>
                                                                        </s:SurfaceRepeatButton>
                                                                    </Track.DecreaseRepeatButton>
                                                                    <Track.IncreaseRepeatButton>
                                                                        <s:SurfaceRepeatButton x:Name="IncreaseRepeat"
                                                                                               Background="{TemplateBinding Background}"
                                                                                               Command="ScrollBar.PageDownCommand"
                                                                                               HorizontalAlignment="Center">
                                                                            <s:SurfaceRepeatButton.Style>
                                                                                <Style TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                    <Setter Property="Interval"
                                                                                            Value="150" />
                                                                                    <Setter Property="BorderBrush"
                                                                                            Value="{x:Null}" />
                                                                                    <Setter Property="Background"
                                                                                            Value="Transparent" />
                                                                                    <Setter Property="OverridesDefaultStyle"
                                                                                            Value="True" />
                                                                                    <Setter Property="Focusable"
                                                                                            Value="False" />
                                                                                    <Setter Property="IsTabStop"
                                                                                            Value="False" />
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                                <Grid Background="{TemplateBinding Background}"
                                                                                                      Width="40">
                                                                                                    <Rectangle x:Name="Line"
                                                                                                               Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                               HorizontalAlignment="Center"
                                                                                                               MinWidth="2" />
                                                                                                </Grid>
                                                                                                <ControlTemplate.Triggers>
                                                                                                    <Trigger Property="IsEnabled"
                                                                                                             Value="False">
                                                                                                        <Setter Property="Fill"
                                                                                                                TargetName="Line"
                                                                                                                Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                    </Trigger>
                                                                                                </ControlTemplate.Triggers>
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </s:SurfaceRepeatButton.Style>
                                                                        </s:SurfaceRepeatButton>
                                                                    </Track.IncreaseRepeatButton>
                                                                    <Track.Thumb>
                                                                        <s:SurfaceThumb x:Name="Thumb"
                                                                                        Background="{TemplateBinding Background}"
                                                                                        HorizontalAlignment="Center">
                                                                            <s:SurfaceThumb.Style>
                                                                                <Style TargetType="{x:Type s:SurfaceThumb}">
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type s:SurfaceThumb}">
                                                                                                <ControlTemplate.Resources>
                                                                                                    <Storyboard x:Key="Touch">
                                                                                                        <DoubleAnimation Duration="0:0:0.05"
                                                                                                                         To="16"
                                                                                                                         Storyboard.TargetProperty="Width"
                                                                                                                         Storyboard.TargetName="Thumb" />
                                                                                                        <ThicknessAnimation Duration="0:0:0.05"
                                                                                                                            To="-1,0"
                                                                                                                            Storyboard.TargetProperty="Margin"
                                                                                                                            Storyboard.TargetName="Thumb" />
                                                                                                    </Storyboard>
                                                                                                    <Storyboard x:Key="Release">
                                                                                                        <DoubleAnimation Duration="0:0:0.1"
                                                                                                                         To="14"
                                                                                                                         Storyboard.TargetProperty="Width"
                                                                                                                         Storyboard.TargetName="Thumb" />
                                                                                                        <ThicknessAnimation Duration="0:0:0.1"
                                                                                                                            To="0"
                                                                                                                            Storyboard.TargetProperty="Margin"
                                                                                                                            Storyboard.TargetName="Thumb" />
                                                                                                    </Storyboard>
                                                                                                </ControlTemplate.Resources>
                                                                                                <Grid x:Name="Grid"
                                                                                                      Background="{TemplateBinding Background}"
                                                                                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                                    <Rectangle x:Name="Thumb"
                                                                                                               Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                               HorizontalAlignment="Stretch"
                                                                                                               Height="Auto"
                                                                                                               VerticalAlignment="Stretch"
                                                                                                               Width="14" />
                                                                                                </Grid>
                                                                                                <ControlTemplate.Triggers>
                                                                                                    <Trigger Property="s:TouchExtensions.AreAnyInputDevicesCapturedWithin"
                                                                                                             Value="True">
                                                                                                        <Trigger.EnterActions>
                                                                                                            <BeginStoryboard>
                                                                                                                <Storyboard>
                                                                                                                    <DoubleAnimation Duration="0:0:0.05"
                                                                                                                                     To="16"
                                                                                                                                     Storyboard.TargetProperty="Width"
                                                                                                                                     Storyboard.TargetName="Thumb" />
                                                                                                                    <ThicknessAnimation Duration="0:0:0.05"
                                                                                                                                        To="-1,0"
                                                                                                                                        Storyboard.TargetProperty="Margin"
                                                                                                                                        Storyboard.TargetName="Thumb" />
                                                                                                                </Storyboard>
                                                                                                            </BeginStoryboard>
                                                                                                        </Trigger.EnterActions>
                                                                                                        <Trigger.ExitActions>
                                                                                                            <BeginStoryboard>
                                                                                                                <Storyboard>
                                                                                                                    <DoubleAnimation Duration="0:0:0.1"
                                                                                                                                     To="14"
                                                                                                                                     Storyboard.TargetProperty="Width"
                                                                                                                                     Storyboard.TargetName="Thumb" />
                                                                                                                    <ThicknessAnimation Duration="0:0:0.1"
                                                                                                                                        To="0"
                                                                                                                                        Storyboard.TargetProperty="Margin"
                                                                                                                                        Storyboard.TargetName="Thumb" />
                                                                                                                </Storyboard>
                                                                                                            </BeginStoryboard>
                                                                                                        </Trigger.ExitActions>
                                                                                                    </Trigger>
                                                                                                    <Trigger Property="IsEnabled"
                                                                                                             Value="False">
                                                                                                        <Setter Property="Fill"
                                                                                                                TargetName="Thumb"
                                                                                                                Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                    </Trigger>
                                                                                                </ControlTemplate.Triggers>
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                    <Style.BasedOn>
                                                                                        <Style TargetType="{x:Type Control}">
                                                                                            <Setter Property="SnapsToDevicePixels"
                                                                                                    Value="False" />
                                                                                            <Setter Property="Background"
                                                                                                    Value="Transparent" />
                                                                                            <Setter Property="IsTabStop"
                                                                                                    Value="False" />
                                                                                            <Setter Property="Focusable"
                                                                                                    Value="False" />
                                                                                            <Setter Property="FocusVisualStyle"
                                                                                                    Value="{x:Null}" />
                                                                                            <Setter Property="MinWidth"
                                                                                                    Value="40" />
                                                                                            <Setter Property="MinHeight"
                                                                                                    Value="40" />
                                                                                        </Style>
                                                                                    </Style.BasedOn>
                                                                                </Style>
                                                                            </s:SurfaceThumb.Style>
                                                                        </s:SurfaceThumb>
                                                                    </Track.Thumb>
                                                                </Track>
                                                            </Border>
                                                        </Grid>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsEnabled"
                                                                     Value="False">
                                                                <Setter Property="IsEnabled"
                                                                        TargetName="PART_Track"
                                                                        Value="False" />
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                            <Style.BasedOn>
                                                <Style TargetType="{x:Type Control}">
                                                    <Setter Property="SnapsToDevicePixels"
                                                            Value="False" />
                                                    <Setter Property="Background"
                                                            Value="Transparent" />
                                                    <Setter Property="IsTabStop"
                                                            Value="False" />
                                                    <Setter Property="Focusable"
                                                            Value="False" />
                                                    <Setter Property="FocusVisualStyle"
                                                            Value="{x:Null}" />
                                                    <Setter Property="MinWidth"
                                                            Value="40" />
                                                    <Setter Property="MinHeight"
                                                            Value="40" />
                                                </Style>
                                            </Style.BasedOn>
                                            <Style.Triggers>
                                                <Trigger Property="Orientation"
                                                         Value="Horizontal">
                                                    <Setter Property="Width"
                                                            Value="Auto" />
                                                    <Setter Property="Height"
                                                            Value="38" />
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="{x:Type s:SurfaceScrollBar}">
                                                                <Grid x:Name="GridRoot"
                                                                      Background="{TemplateBinding Background}">
                                                                    <Border x:Name="Track"
                                                                            HorizontalAlignment="Stretch"
                                                                            VerticalAlignment="Stretch">
                                                                        <Track x:Name="PART_Track">
                                                                            <Track.DecreaseRepeatButton>
                                                                                <s:SurfaceRepeatButton x:Name="DecreaseRepeat"
                                                                                                       Background="{TemplateBinding Background}"
                                                                                                       Command="ScrollBar.PageLeftCommand"
                                                                                                       VerticalAlignment="Center">
                                                                                    <s:SurfaceRepeatButton.Style>
                                                                                        <Style TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                            <Setter Property="Interval"
                                                                                                    Value="150" />
                                                                                            <Setter Property="BorderBrush"
                                                                                                    Value="{x:Null}" />
                                                                                            <Setter Property="Background"
                                                                                                    Value="Transparent" />
                                                                                            <Setter Property="OverridesDefaultStyle"
                                                                                                    Value="True" />
                                                                                            <Setter Property="Focusable"
                                                                                                    Value="False" />
                                                                                            <Setter Property="IsTabStop"
                                                                                                    Value="False" />
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                                        <Grid Background="{TemplateBinding Background}"
                                                                                                              Height="40">
                                                                                                            <Rectangle x:Name="Line"
                                                                                                                       Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                                       MinHeight="2"
                                                                                                                       VerticalAlignment="Center" />
                                                                                                        </Grid>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsEnabled"
                                                                                                                     Value="False">
                                                                                                                <Setter Property="Fill"
                                                                                                                        TargetName="Line"
                                                                                                                        Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </s:SurfaceRepeatButton.Style>
                                                                                </s:SurfaceRepeatButton>
                                                                            </Track.DecreaseRepeatButton>
                                                                            <Track.IncreaseRepeatButton>
                                                                                <s:SurfaceRepeatButton x:Name="IncreaseRepeat"
                                                                                                       Background="{TemplateBinding Background}"
                                                                                                       Command="ScrollBar.PageRightCommand"
                                                                                                       VerticalAlignment="Center">
                                                                                    <s:SurfaceRepeatButton.Style>
                                                                                        <Style TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                            <Setter Property="Interval"
                                                                                                    Value="150" />
                                                                                            <Setter Property="BorderBrush"
                                                                                                    Value="{x:Null}" />
                                                                                            <Setter Property="Background"
                                                                                                    Value="Transparent" />
                                                                                            <Setter Property="OverridesDefaultStyle"
                                                                                                    Value="True" />
                                                                                            <Setter Property="Focusable"
                                                                                                    Value="False" />
                                                                                            <Setter Property="IsTabStop"
                                                                                                    Value="False" />
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                                        <Grid Background="{TemplateBinding Background}"
                                                                                                              Height="40">
                                                                                                            <Rectangle x:Name="Line"
                                                                                                                       Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                                       MinHeight="2"
                                                                                                                       VerticalAlignment="Center" />
                                                                                                        </Grid>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsEnabled"
                                                                                                                     Value="False">
                                                                                                                <Setter Property="Fill"
                                                                                                                        TargetName="Line"
                                                                                                                        Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </s:SurfaceRepeatButton.Style>
                                                                                </s:SurfaceRepeatButton>
                                                                            </Track.IncreaseRepeatButton>
                                                                            <Track.Thumb>
                                                                                <s:SurfaceThumb x:Name="Thumb"
                                                                                                Background="{TemplateBinding Background}"
                                                                                                VerticalAlignment="Center">
                                                                                    <s:SurfaceThumb.Style>
                                                                                        <Style TargetType="{x:Type s:SurfaceThumb}">
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type s:SurfaceThumb}">
                                                                                                        <ControlTemplate.Resources>
                                                                                                            <Storyboard x:Key="Touch">
                                                                                                                <DoubleAnimation Duration="0:0:0.05"
                                                                                                                                 To="16"
                                                                                                                                 Storyboard.TargetProperty="Height"
                                                                                                                                 Storyboard.TargetName="Thumb" />
                                                                                                                <ThicknessAnimation Duration="0:0:0.05"
                                                                                                                                    To="0,-1"
                                                                                                                                    Storyboard.TargetProperty="Margin"
                                                                                                                                    Storyboard.TargetName="Thumb" />
                                                                                                            </Storyboard>
                                                                                                            <Storyboard x:Key="Release">
                                                                                                                <DoubleAnimation Duration="0:0:0.1"
                                                                                                                                 To="14"
                                                                                                                                 Storyboard.TargetProperty="Height"
                                                                                                                                 Storyboard.TargetName="Thumb" />
                                                                                                                <ThicknessAnimation Duration="0:0:0.1"
                                                                                                                                    To="0"
                                                                                                                                    Storyboard.TargetProperty="Margin"
                                                                                                                                    Storyboard.TargetName="Thumb" />
                                                                                                            </Storyboard>
                                                                                                        </ControlTemplate.Resources>
                                                                                                        <Grid x:Name="Grid"
                                                                                                              Background="{TemplateBinding Background}"
                                                                                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                                            <Rectangle x:Name="Thumb"
                                                                                                                       Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                                       HorizontalAlignment="Stretch"
                                                                                                                       Height="14"
                                                                                                                       VerticalAlignment="Stretch"
                                                                                                                       Width="Auto" />
                                                                                                        </Grid>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="s:TouchExtensions.AreAnyInputDevicesCapturedWithin"
                                                                                                                     Value="True">
                                                                                                                <Trigger.EnterActions>
                                                                                                                    <BeginStoryboard>
                                                                                                                        <Storyboard>
                                                                                                                            <DoubleAnimation Duration="0:0:0.05"
                                                                                                                                             To="16"
                                                                                                                                             Storyboard.TargetProperty="Height"
                                                                                                                                             Storyboard.TargetName="Thumb" />
                                                                                                                            <ThicknessAnimation Duration="0:0:0.05"
                                                                                                                                                To="0,-1"
                                                                                                                                                Storyboard.TargetProperty="Margin"
                                                                                                                                                Storyboard.TargetName="Thumb" />
                                                                                                                        </Storyboard>
                                                                                                                    </BeginStoryboard>
                                                                                                                </Trigger.EnterActions>
                                                                                                                <Trigger.ExitActions>
                                                                                                                    <BeginStoryboard>
                                                                                                                        <Storyboard>
                                                                                                                            <DoubleAnimation Duration="0:0:0.1"
                                                                                                                                             To="14"
                                                                                                                                             Storyboard.TargetProperty="Height"
                                                                                                                                             Storyboard.TargetName="Thumb" />
                                                                                                                            <ThicknessAnimation Duration="0:0:0.1"
                                                                                                                                                To="0"
                                                                                                                                                Storyboard.TargetProperty="Margin"
                                                                                                                                                Storyboard.TargetName="Thumb" />
                                                                                                                        </Storyboard>
                                                                                                                    </BeginStoryboard>
                                                                                                                </Trigger.ExitActions>
                                                                                                            </Trigger>
                                                                                                            <Trigger Property="IsEnabled"
                                                                                                                     Value="False">
                                                                                                                <Setter Property="Fill"
                                                                                                                        TargetName="Thumb"
                                                                                                                        Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                            <Style.BasedOn>
                                                                                                <Style TargetType="{x:Type Control}">
                                                                                                    <Setter Property="SnapsToDevicePixels"
                                                                                                            Value="False" />
                                                                                                    <Setter Property="Background"
                                                                                                            Value="Transparent" />
                                                                                                    <Setter Property="IsTabStop"
                                                                                                            Value="False" />
                                                                                                    <Setter Property="Focusable"
                                                                                                            Value="False" />
                                                                                                    <Setter Property="FocusVisualStyle"
                                                                                                            Value="{x:Null}" />
                                                                                                    <Setter Property="MinWidth"
                                                                                                            Value="40" />
                                                                                                    <Setter Property="MinHeight"
                                                                                                            Value="40" />
                                                                                                </Style>
                                                                                            </Style.BasedOn>
                                                                                        </Style>
                                                                                    </s:SurfaceThumb.Style>
                                                                                </s:SurfaceThumb>
                                                                            </Track.Thumb>
                                                                        </Track>
                                                                    </Border>
                                                                </Grid>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsEnabled"
                                                                             Value="False">
                                                                        <Setter Property="Opacity"
                                                                                TargetName="IncreaseRepeat"
                                                                                Value="0.33" />
                                                                        <Setter Property="Opacity"
                                                                                TargetName="DecreaseRepeat"
                                                                                Value="0.33" />
                                                                        <Setter Property="IsEnabled"
                                                                                TargetName="PART_Track"
                                                                                Value="False" />
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </s:SurfaceScrollBar.Style>
                                </s:SurfaceScrollBar>
                                <s:SurfaceScrollBar x:Name="PART_VerticalScrollBar"
                                                    AutomationProperties.AutomationId="VerticalScrollBar"
                                                    Grid.Column="1"
                                                    Foreground="{x:Null}"
                                                    HorizontalAlignment="Stretch"
                                                    HorizontalContentAlignment="Stretch"
                                                    ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                    IsEnabled="True"
                                                    LargeChange="1"
                                                    Maximum="{TemplateBinding ScrollableHeight}"
                                                    Minimum="0"
                                                    Orientation="Vertical"
                                                    Grid.Row="0"
                                                    Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                                                    Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                                                    ViewportSize="{TemplateBinding ViewportHeight}"
                                                    VerticalContentAlignment="Stretch"
                                                    Width="Auto">
                                    <s:SurfaceScrollBar.Style>
                                        <Style TargetType="{x:Type s:SurfaceScrollBar}">
                                            <Style.Resources>
                                                <system:Double x:Key="{x:Static SystemParameters.VerticalScrollBarButtonHeightKey}">38</system:Double>
                                                <system:Double x:Key="{x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}">38</system:Double>
                                            </Style.Resources>
                                            <Setter Property="Stylus.IsPressAndHoldEnabled"
                                                    Value="False" />
                                            <Setter Property="Stylus.IsFlicksEnabled"
                                                    Value="False" />
                                            <Setter Property="Width"
                                                    Value="38" />
                                            <Setter Property="Height"
                                                    Value="Auto" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type s:SurfaceScrollBar}">
                                                        <Grid x:Name="GridRoot"
                                                              Background="{TemplateBinding Background}">
                                                            <Border x:Name="Track"
                                                                    HorizontalAlignment="Stretch"
                                                                    VerticalAlignment="Stretch">
                                                                <Track x:Name="PART_Track"
                                                                       IsDirectionReversed="True">
                                                                    <Track.DecreaseRepeatButton>
                                                                        <s:SurfaceRepeatButton x:Name="DecreaseRepeat"
                                                                                               Background="{TemplateBinding Background}"
                                                                                               Command="ScrollBar.PageUpCommand"
                                                                                               HorizontalAlignment="Center">
                                                                            <s:SurfaceRepeatButton.Style>
                                                                                <Style TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                    <Setter Property="Interval"
                                                                                            Value="150" />
                                                                                    <Setter Property="BorderBrush"
                                                                                            Value="{x:Null}" />
                                                                                    <Setter Property="Background"
                                                                                            Value="Transparent" />
                                                                                    <Setter Property="OverridesDefaultStyle"
                                                                                            Value="True" />
                                                                                    <Setter Property="Focusable"
                                                                                            Value="False" />
                                                                                    <Setter Property="IsTabStop"
                                                                                            Value="False" />
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                                <Grid Background="{TemplateBinding Background}"
                                                                                                      Width="40">
                                                                                                    <Rectangle x:Name="Line"
                                                                                                               Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                               HorizontalAlignment="Center"
                                                                                                               MinWidth="2" />
                                                                                                </Grid>
                                                                                                <ControlTemplate.Triggers>
                                                                                                    <Trigger Property="IsEnabled"
                                                                                                             Value="False">
                                                                                                        <Setter Property="Fill"
                                                                                                                TargetName="Line"
                                                                                                                Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                    </Trigger>
                                                                                                </ControlTemplate.Triggers>
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </s:SurfaceRepeatButton.Style>
                                                                        </s:SurfaceRepeatButton>
                                                                    </Track.DecreaseRepeatButton>
                                                                    <Track.IncreaseRepeatButton>
                                                                        <s:SurfaceRepeatButton x:Name="IncreaseRepeat"
                                                                                               Background="{TemplateBinding Background}"
                                                                                               Command="ScrollBar.PageDownCommand"
                                                                                               HorizontalAlignment="Center">
                                                                            <s:SurfaceRepeatButton.Style>
                                                                                <Style TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                    <Setter Property="Interval"
                                                                                            Value="150" />
                                                                                    <Setter Property="BorderBrush"
                                                                                            Value="{x:Null}" />
                                                                                    <Setter Property="Background"
                                                                                            Value="Transparent" />
                                                                                    <Setter Property="OverridesDefaultStyle"
                                                                                            Value="True" />
                                                                                    <Setter Property="Focusable"
                                                                                            Value="False" />
                                                                                    <Setter Property="IsTabStop"
                                                                                            Value="False" />
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                                <Grid Background="{TemplateBinding Background}"
                                                                                                      Width="40">
                                                                                                    <Rectangle x:Name="Line"
                                                                                                               Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                               HorizontalAlignment="Center"
                                                                                                               MinWidth="2" />
                                                                                                </Grid>
                                                                                                <ControlTemplate.Triggers>
                                                                                                    <Trigger Property="IsEnabled"
                                                                                                             Value="False">
                                                                                                        <Setter Property="Fill"
                                                                                                                TargetName="Line"
                                                                                                                Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                    </Trigger>
                                                                                                </ControlTemplate.Triggers>
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </s:SurfaceRepeatButton.Style>
                                                                        </s:SurfaceRepeatButton>
                                                                    </Track.IncreaseRepeatButton>
                                                                    <Track.Thumb>
                                                                        <s:SurfaceThumb x:Name="Thumb"
                                                                                        Background="{TemplateBinding Background}"
                                                                                        HorizontalAlignment="Center"
                                                                                        Template="{DynamicResource SurfaceThumbControlTemplate1}">
                                                                            <s:SurfaceThumb.Style>
                                                                                <Style TargetType="{x:Type s:SurfaceThumb}">
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type s:SurfaceThumb}">
                                                                                                <ControlTemplate.Resources>
                                                                                                    <Storyboard x:Key="Touch">
                                                                                                        <DoubleAnimation Duration="0:0:0.05"
                                                                                                                         To="16"
                                                                                                                         Storyboard.TargetProperty="Width"
                                                                                                                         Storyboard.TargetName="Thumb" />
                                                                                                        <ThicknessAnimation Duration="0:0:0.05"
                                                                                                                            To="-1,0"
                                                                                                                            Storyboard.TargetProperty="Margin"
                                                                                                                            Storyboard.TargetName="Thumb" />
                                                                                                    </Storyboard>
                                                                                                    <Storyboard x:Key="Release">
                                                                                                        <DoubleAnimation Duration="0:0:0.1"
                                                                                                                         To="14"
                                                                                                                         Storyboard.TargetProperty="Width"
                                                                                                                         Storyboard.TargetName="Thumb" />
                                                                                                        <ThicknessAnimation Duration="0:0:0.1"
                                                                                                                            To="0"
                                                                                                                            Storyboard.TargetProperty="Margin"
                                                                                                                            Storyboard.TargetName="Thumb" />
                                                                                                    </Storyboard>
                                                                                                </ControlTemplate.Resources>
                                                                                                <Grid x:Name="Grid"
                                                                                                      Background="{TemplateBinding Background}"
                                                                                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                                    <Rectangle x:Name="Thumb"
                                                                                                               Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                               HorizontalAlignment="Stretch"
                                                                                                               Height="Auto"
                                                                                                               VerticalAlignment="Stretch"
                                                                                                               Width="14" />
                                                                                                </Grid>
                                                                                                <ControlTemplate.Triggers>
                                                                                                    <Trigger Property="s:TouchExtensions.AreAnyInputDevicesCapturedWithin"
                                                                                                             Value="True">
                                                                                                        <Trigger.EnterActions>
                                                                                                            <BeginStoryboard>
                                                                                                                <Storyboard>
                                                                                                                    <DoubleAnimation Duration="0:0:0.05"
                                                                                                                                     To="16"
                                                                                                                                     Storyboard.TargetProperty="Width"
                                                                                                                                     Storyboard.TargetName="Thumb" />
                                                                                                                    <ThicknessAnimation Duration="0:0:0.05"
                                                                                                                                        To="-1,0"
                                                                                                                                        Storyboard.TargetProperty="Margin"
                                                                                                                                        Storyboard.TargetName="Thumb" />
                                                                                                                </Storyboard>
                                                                                                            </BeginStoryboard>
                                                                                                        </Trigger.EnterActions>
                                                                                                        <Trigger.ExitActions>
                                                                                                            <BeginStoryboard>
                                                                                                                <Storyboard>
                                                                                                                    <DoubleAnimation Duration="0:0:0.1"
                                                                                                                                     To="14"
                                                                                                                                     Storyboard.TargetProperty="Width"
                                                                                                                                     Storyboard.TargetName="Thumb" />
                                                                                                                    <ThicknessAnimation Duration="0:0:0.1"
                                                                                                                                        To="0"
                                                                                                                                        Storyboard.TargetProperty="Margin"
                                                                                                                                        Storyboard.TargetName="Thumb" />
                                                                                                                </Storyboard>
                                                                                                            </BeginStoryboard>
                                                                                                        </Trigger.ExitActions>
                                                                                                    </Trigger>
                                                                                                    <Trigger Property="IsEnabled"
                                                                                                             Value="False">
                                                                                                        <Setter Property="Fill"
                                                                                                                TargetName="Thumb"
                                                                                                                Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                    </Trigger>
                                                                                                </ControlTemplate.Triggers>
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                    <Style.BasedOn>
                                                                                        <Style TargetType="{x:Type Control}">
                                                                                            <Setter Property="SnapsToDevicePixels"
                                                                                                    Value="False" />
                                                                                            <Setter Property="Background"
                                                                                                    Value="Transparent" />
                                                                                            <Setter Property="IsTabStop"
                                                                                                    Value="False" />
                                                                                            <Setter Property="Focusable"
                                                                                                    Value="False" />
                                                                                            <Setter Property="FocusVisualStyle"
                                                                                                    Value="{x:Null}" />
                                                                                            <Setter Property="MinWidth"
                                                                                                    Value="40" />
                                                                                            <Setter Property="MinHeight"
                                                                                                    Value="40" />
                                                                                        </Style>
                                                                                    </Style.BasedOn>
                                                                                </Style>
                                                                            </s:SurfaceThumb.Style>
                                                                        </s:SurfaceThumb>
                                                                    </Track.Thumb>
                                                                </Track>
                                                            </Border>
                                                        </Grid>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsEnabled"
                                                                     Value="False">
                                                                <Setter Property="IsEnabled"
                                                                        TargetName="PART_Track"
                                                                        Value="False" />
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                            <Style.BasedOn>
                                                <Style TargetType="{x:Type Control}">
                                                    <Setter Property="SnapsToDevicePixels"
                                                            Value="False" />
                                                    <Setter Property="Background"
                                                            Value="Transparent" />
                                                    <Setter Property="IsTabStop"
                                                            Value="False" />
                                                    <Setter Property="Focusable"
                                                            Value="False" />
                                                    <Setter Property="FocusVisualStyle"
                                                            Value="{x:Null}" />
                                                    <Setter Property="MinWidth"
                                                            Value="40" />
                                                    <Setter Property="MinHeight"
                                                            Value="40" />
                                                </Style>
                                            </Style.BasedOn>
                                            <Style.Triggers>
                                                <Trigger Property="Orientation"
                                                         Value="Horizontal">
                                                    <Setter Property="Width"
                                                            Value="Auto" />
                                                    <Setter Property="Height"
                                                            Value="38" />
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="{x:Type s:SurfaceScrollBar}">
                                                                <Grid x:Name="GridRoot"
                                                                      Background="{TemplateBinding Background}">
                                                                    <Border x:Name="Track"
                                                                            HorizontalAlignment="Stretch"
                                                                            VerticalAlignment="Stretch">
                                                                        <Track x:Name="PART_Track">
                                                                            <Track.DecreaseRepeatButton>
                                                                                <s:SurfaceRepeatButton x:Name="DecreaseRepeat"
                                                                                                       Background="{TemplateBinding Background}"
                                                                                                       Command="ScrollBar.PageLeftCommand"
                                                                                                       VerticalAlignment="Center">
                                                                                    <s:SurfaceRepeatButton.Style>
                                                                                        <Style TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                            <Setter Property="Interval"
                                                                                                    Value="150" />
                                                                                            <Setter Property="BorderBrush"
                                                                                                    Value="{x:Null}" />
                                                                                            <Setter Property="Background"
                                                                                                    Value="Transparent" />
                                                                                            <Setter Property="OverridesDefaultStyle"
                                                                                                    Value="True" />
                                                                                            <Setter Property="Focusable"
                                                                                                    Value="False" />
                                                                                            <Setter Property="IsTabStop"
                                                                                                    Value="False" />
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                                        <Grid Background="{TemplateBinding Background}"
                                                                                                              Height="40">
                                                                                                            <Rectangle x:Name="Line"
                                                                                                                       Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                                       MinHeight="2"
                                                                                                                       VerticalAlignment="Center" />
                                                                                                        </Grid>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsEnabled"
                                                                                                                     Value="False">
                                                                                                                <Setter Property="Fill"
                                                                                                                        TargetName="Line"
                                                                                                                        Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </s:SurfaceRepeatButton.Style>
                                                                                </s:SurfaceRepeatButton>
                                                                            </Track.DecreaseRepeatButton>
                                                                            <Track.IncreaseRepeatButton>
                                                                                <s:SurfaceRepeatButton x:Name="IncreaseRepeat"
                                                                                                       Background="{TemplateBinding Background}"
                                                                                                       Command="ScrollBar.PageRightCommand"
                                                                                                       VerticalAlignment="Center">
                                                                                    <s:SurfaceRepeatButton.Style>
                                                                                        <Style TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                            <Setter Property="Interval"
                                                                                                    Value="150" />
                                                                                            <Setter Property="BorderBrush"
                                                                                                    Value="{x:Null}" />
                                                                                            <Setter Property="Background"
                                                                                                    Value="Transparent" />
                                                                                            <Setter Property="OverridesDefaultStyle"
                                                                                                    Value="True" />
                                                                                            <Setter Property="Focusable"
                                                                                                    Value="False" />
                                                                                            <Setter Property="IsTabStop"
                                                                                                    Value="False" />
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type s:SurfaceRepeatButton}">
                                                                                                        <Grid Background="{TemplateBinding Background}"
                                                                                                              Height="40">
                                                                                                            <Rectangle x:Name="Line"
                                                                                                                       Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                                       MinHeight="2"
                                                                                                                       VerticalAlignment="Center" />
                                                                                                        </Grid>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsEnabled"
                                                                                                                     Value="False">
                                                                                                                <Setter Property="Fill"
                                                                                                                        TargetName="Line"
                                                                                                                        Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </s:SurfaceRepeatButton.Style>
                                                                                </s:SurfaceRepeatButton>
                                                                            </Track.IncreaseRepeatButton>
                                                                            <Track.Thumb>
                                                                                <s:SurfaceThumb x:Name="Thumb"
                                                                                                Background="{TemplateBinding Background}"
                                                                                                VerticalAlignment="Center">
                                                                                    <s:SurfaceThumb.Style>
                                                                                        <Style TargetType="{x:Type s:SurfaceThumb}">
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type s:SurfaceThumb}">
                                                                                                        <ControlTemplate.Resources>
                                                                                                            <Storyboard x:Key="Touch">
                                                                                                                <DoubleAnimation Duration="0:0:0.05"
                                                                                                                                 To="16"
                                                                                                                                 Storyboard.TargetProperty="Height"
                                                                                                                                 Storyboard.TargetName="Thumb" />
                                                                                                                <ThicknessAnimation Duration="0:0:0.05"
                                                                                                                                    To="0,-1"
                                                                                                                                    Storyboard.TargetProperty="Margin"
                                                                                                                                    Storyboard.TargetName="Thumb" />
                                                                                                            </Storyboard>
                                                                                                            <Storyboard x:Key="Release">
                                                                                                                <DoubleAnimation Duration="0:0:0.1"
                                                                                                                                 To="14"
                                                                                                                                 Storyboard.TargetProperty="Height"
                                                                                                                                 Storyboard.TargetName="Thumb" />
                                                                                                                <ThicknessAnimation Duration="0:0:0.1"
                                                                                                                                    To="0"
                                                                                                                                    Storyboard.TargetProperty="Margin"
                                                                                                                                    Storyboard.TargetName="Thumb" />
                                                                                                            </Storyboard>
                                                                                                        </ControlTemplate.Resources>
                                                                                                        <Grid x:Name="Grid"
                                                                                                              Background="{TemplateBinding Background}"
                                                                                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                                            <Rectangle x:Name="Thumb"
                                                                                                                       Fill="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                                                                                                       HorizontalAlignment="Stretch"
                                                                                                                       Height="14"
                                                                                                                       VerticalAlignment="Stretch"
                                                                                                                       Width="Auto" />
                                                                                                        </Grid>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="s:TouchExtensions.AreAnyInputDevicesCapturedWithin"
                                                                                                                     Value="True">
                                                                                                                <Trigger.EnterActions>
                                                                                                                    <BeginStoryboard>
                                                                                                                        <Storyboard>
                                                                                                                            <DoubleAnimation Duration="0:0:0.05"
                                                                                                                                             To="16"
                                                                                                                                             Storyboard.TargetProperty="Height"
                                                                                                                                             Storyboard.TargetName="Thumb" />
                                                                                                                            <ThicknessAnimation Duration="0:0:0.05"
                                                                                                                                                To="0,-1"
                                                                                                                                                Storyboard.TargetProperty="Margin"
                                                                                                                                                Storyboard.TargetName="Thumb" />
                                                                                                                        </Storyboard>
                                                                                                                    </BeginStoryboard>
                                                                                                                </Trigger.EnterActions>
                                                                                                                <Trigger.ExitActions>
                                                                                                                    <BeginStoryboard>
                                                                                                                        <Storyboard>
                                                                                                                            <DoubleAnimation Duration="0:0:0.1"
                                                                                                                                             To="14"
                                                                                                                                             Storyboard.TargetProperty="Height"
                                                                                                                                             Storyboard.TargetName="Thumb" />
                                                                                                                            <ThicknessAnimation Duration="0:0:0.1"
                                                                                                                                                To="0"
                                                                                                                                                Storyboard.TargetProperty="Margin"
                                                                                                                                                Storyboard.TargetName="Thumb" />
                                                                                                                        </Storyboard>
                                                                                                                    </BeginStoryboard>
                                                                                                                </Trigger.ExitActions>
                                                                                                            </Trigger>
                                                                                                            <Trigger Property="IsEnabled"
                                                                                                                     Value="False">
                                                                                                                <Setter Property="Fill"
                                                                                                                        TargetName="Thumb"
                                                                                                                        Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                            <Style.BasedOn>
                                                                                                <Style TargetType="{x:Type Control}">
                                                                                                    <Setter Property="SnapsToDevicePixels"
                                                                                                            Value="False" />
                                                                                                    <Setter Property="Background"
                                                                                                            Value="Transparent" />
                                                                                                    <Setter Property="IsTabStop"
                                                                                                            Value="False" />
                                                                                                    <Setter Property="Focusable"
                                                                                                            Value="False" />
                                                                                                    <Setter Property="FocusVisualStyle"
                                                                                                            Value="{x:Null}" />
                                                                                                    <Setter Property="MinWidth"
                                                                                                            Value="40" />
                                                                                                    <Setter Property="MinHeight"
                                                                                                            Value="40" />
                                                                                                </Style>
                                                                                            </Style.BasedOn>
                                                                                        </Style>
                                                                                    </s:SurfaceThumb.Style>
                                                                                </s:SurfaceThumb>
                                                                            </Track.Thumb>
                                                                        </Track>
                                                                    </Border>
                                                                </Grid>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsEnabled"
                                                                             Value="False">
                                                                        <Setter Property="Opacity"
                                                                                TargetName="IncreaseRepeat"
                                                                                Value="0.33" />
                                                                        <Setter Property="Opacity"
                                                                                TargetName="DecreaseRepeat"
                                                                                Value="0.33" />
                                                                        <Setter Property="IsEnabled"
                                                                                TargetName="PART_Track"
                                                                                Value="False" />
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </s:SurfaceScrollBar.Style>
                                </s:SurfaceScrollBar>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsEnabled"
                                         Value="False">
                                    <Setter Property="IsEnabled"
                                            TargetName="PART_HorizontalScrollBar"
                                            Value="False" />
                                    <Setter Property="IsEnabled"
                                            TargetName="PART_VerticalScrollBar"
                                            Value="False" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <SolidColorBrush x:Key="DisabledForegroundBrush"
                             Color="#888" />
            <SolidColorBrush x:Key="DisabledBorderBrush"
                             Color="#AAA" />
            <Style x:Key="PivotControlStyle1"
                   TargetType="{x:Type pivotControl:PivotControl}">
                <Setter Property="SnapsToDevicePixels"
                        Value="True" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type pivotControl:PivotControl}">
                            <Grid KeyboardNavigation.TabNavigation="Local">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <ScrollViewer VerticalScrollBarVisibility="Auto"
                                              HorizontalScrollBarVisibility="Hidden"
                                              Grid.Row="0">
                                    <TabPanel x:Name="HeaderPanel"
                                              Panel.ZIndex="1"
                                              Margin="0,0,4,-1"
                                              IsItemsHost="True"
                                              KeyboardNavigation.TabIndex="1"
                                              Background="Transparent" />
                                </ScrollViewer>
                                <Border x:Name="Border"
                                        Grid.Row="1"
                                        Background="{TemplateBinding Background}"
                                        BorderThickness="0"
                                        CornerRadius="2"
                                        KeyboardNavigation.TabNavigation="Local"
                                        KeyboardNavigation.DirectionalNavigation="Contained"
                                        KeyboardNavigation.TabIndex="2">
                                    <s:SurfaceScrollViewer HorizontalScrollBarVisibility="Disabled"
                                                           VerticalScrollBarVisibility="Disabled"
                                                           VerticalContentAlignment="Stretch"
                                                           HorizontalContentAlignment="Stretch"
                                                           Style="{DynamicResource SurfaceScrollViewerStyle1}">
                                        <ContentPresenter x:Name="PART_SelectedContentHost"
                                                          Margin="4"
                                                          HorizontalAlignment="Stretch"
                                                          VerticalAlignment="Stretch"
                                                          ContentSource="SelectedContent" />
                                    </s:SurfaceScrollViewer>
                                    <!--ContentTemplate="{StaticResource SwipeTemplate}"-->
                                    <!--<controls:TransitioningContentControl Name="PART_SelectedContentHost"
                                              Margin="4" Content="{TemplateBinding SelectedContent}" />-->
                                    <!--<ContentPresenter Name="PART_SelectedContentHost"
                                              Margin="4"
                                              Content="SelectedContent" />-->
                                    <!--<ContentPresenter.Resources>
                                    <DataTemplate DataType="{x:Type local:PivotItem}">
                                        <Grid />
                                    </DataTemplate>
                                </ContentPresenter.Resources>-->

                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsEnabled"
                                         Value="False">
                                    <Setter Property="Foreground"
                                            Value="{StaticResource DisabledForegroundBrush}" />
                                    <Setter TargetName="Border"
                                            Property="BorderBrush"
                                            Value="{StaticResource DisabledBorderBrush}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="{x:Type Control}"
                   x:Key="ControlBaseStyle">
                <Setter Property="FocusVisualStyle"
                        Value="{x:Null}" />
                <Setter Property="SnapsToDevicePixels"
                        Value="False" />
                <Setter Property="FontFamily"
                        Value="Segoe360" />
                <Setter Property="FontWeight"
                        Value="Normal" />
                <Setter Property="Padding"
                        Value="6,2,10,10" />
                <Setter Property="MinHeight"
                        Value="38" />
                <Setter Property="MinWidth"
                        Value="38" />
                <Setter Property="Margin"
                        Value="1" />
                <Setter Property="HorizontalContentAlignment"
                        Value="Left" />
                <Setter Property="VerticalContentAlignment"
                        Value="Top" />
                <Setter Property="BorderThickness"
                        Value="2" />
            </Style>
            <SolidColorBrush x:Key="ControlHitAreaBrush"
                             Color="#00FFFFFF" />
            <Style x:Key="BlackCheckBox"
                   TargetType="{x:Type s:SurfaceCheckBox}"
                   BasedOn="{StaticResource ControlBaseStyle}">
                <Setter Property="Background"
                        Value="{DynamicResource {x:Static s:SurfaceColors.ControlBackgroundBrushKey}}" />
                <Setter Property="Foreground"
                        Value="{DynamicResource {x:Static s:SurfaceColors.ControlForegroundBrushKey}}" />
                <Setter Property="BorderBrush"
                        Value="{DynamicResource {x:Static s:SurfaceColors.ControlBorderBrushKey}}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type s:SurfaceCheckBox}">
                            <ControlTemplate.Resources>
                                <Storyboard x:Key="Checked">
                                    <DoubleAnimation Duration="00:00:00.0100000"
                                                     Storyboard.TargetName="Checkmark"
                                                     Storyboard.TargetProperty="Opacity"
                                                     To="1" />
                                </Storyboard>
                                <Storyboard x:Key="Unchecked">
                                    <DoubleAnimation Duration="00:00:00.1500000"
                                                     Storyboard.TargetName="Checkmark"
                                                     Storyboard.TargetProperty="Opacity"
                                                     From="0.4"
                                                     To="0" />
                                </Storyboard>
                            </ControlTemplate.Resources>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Rectangle Grid.ColumnSpan="2"
                                           x:Name="hitArea"
                                           Fill="{StaticResource ControlHitAreaBrush}"
                                           Width="{TemplateBinding Width}"
                                           Height="{TemplateBinding Height}" />
                                <BulletDecorator Grid.Column="0"
                                                 VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                 x:Name="bulletDecorator"
                                                 RenderTransformOrigin="0.5,0.5">
                                    <BulletDecorator.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform ScaleX="1.5"
                                                            ScaleY="1.5" />
                                            <SkewTransform />
                                            <RotateTransform />
                                            <TranslateTransform />
                                        </TransformGroup>
                                    </BulletDecorator.RenderTransform>
                                    <BulletDecorator.Bullet>
                                        <Border x:Name="CheckButtonRect"
                                                Margin="1,6,0,0"
                                                Width="16"
                                                Height="16"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                Background="{TemplateBinding Background}">
                                            <Grid>
                                                <Path x:Name="Checkmark"
                                                      StrokeEndLineCap="Flat"
                                                      Fill="{x:Null}"
                                                      Stroke="#E6000000"
                                                      StrokeStartLineCap="Flat"
                                                      StrokeThickness="2"
                                                      Width="10"
                                                      Height="10"
                                                      Data="M0,24 L12,0 M0,0 L12,24"
                                                      Opacity="0"
                                                      Stretch="Fill" />
                                                <Rectangle x:Name="ThreeStateMark"
                                                           Opacity="0"
                                                           Fill="{DynamicResource {x:Static s:SurfaceColors.BulletBrushKey}}"
                                                           Width="6"
                                                           Height="6" />
                                            </Grid>
                                        </Border>
                                    </BulletDecorator.Bullet>
                                </BulletDecorator>
                                <ContentPresenter Grid.Column="1"
                                                  x:Name="Content"
                                                  Margin="12,0,10,0"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            </Grid>
                            <ControlTemplate.Triggers>
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsThreeState"
                                                   Value="True" />
                                        <Condition Property="IsChecked"
                                                   Value="{x:Null}" />
                                    </MultiTrigger.Conditions>
                                    <Setter TargetName="Checkmark"
                                            Property="Opacity"
                                            Value="0" />
                                    <Setter TargetName="ThreeStateMark"
                                            Property="Opacity"
                                            Value="1" />
                                </MultiTrigger>
                                <Trigger Property="IsChecked"
                                         Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard Storyboard="{StaticResource Checked}" />
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard Storyboard="{StaticResource Unchecked}" />
                                    </Trigger.ExitActions>
                                    <Setter Property="Opacity"
                                            TargetName="Checkmark"
                                            Value="1" />
                                </Trigger>
                                <Trigger Property="IsPressed"
                                         Value="True">
                                    <Setter Property="Background"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ControlBackgroundPressedBrushKey}}" />
                                    <Setter Property="BorderBrush"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ControlBorderPressedBrushKey}}" />
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ControlForegroundPressedBrushKey}}" />
                                    <Setter TargetName="Checkmark"
                                            Property="Stroke"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.BulletPressedBrushKey}}" />
                                </Trigger>
                                <Trigger Property="IsEnabled"
                                         Value="False">
                                    <Setter Property="BorderBrush"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ControlBorderDisabledBrushKey}}" />
                                    <Setter Property="Background"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ControlBackgroundDisabledBrushKey}}" />
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ControlForegroundDisabledBrushKey}}" />
                                    <Setter TargetName="Checkmark"
                                            Property="Stroke"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.BulletDisabledBrushKey}}" />
                                    <Setter TargetName="ThreeStateMark"
                                            Property="Fill"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.BulletDisabledBrushKey}}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
                        <!--<TextBlock Margin="3,0,75,0"-->
            <DataTemplate x:Key="numberTemplate">
                <StackPanel Margin="5,0,5,10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock HorizontalAlignment="Left"
                                   TextWrapping="Wrap"
                                   Text="{Binding Meta.Title}"
                                   VerticalAlignment="Top"
                                   FontSize="12"
                                   FontWeight="Bold" />
                        <TextBlock HorizontalAlignment="Left"
                                   TextWrapping="Wrap"
                                   Text="{Binding Data, StringFormat=' ({0})'}"
                                   VerticalAlignment="Top"
                                   FontSize="12"
                                   FontWeight="Bold" />
                    </StackPanel>
                    <s:SurfaceSlider HorizontalAlignment="Stretch"
                                     Value="{Binding Data, Mode=TwoWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource BlackSliderStyle}"
                                     VerticalAlignment="Top"
                                     Maximum="{Binding Meta.MaxValue}"
                                     Minimum="{Binding Meta.MinValue}"
                                     AutoToolTipPlacement="TopLeft"
                                     AutoToolTipPrecision="0"
                                     Margin="3,0,5,0" />
                </StackPanel>
            </DataTemplate>

            <DataTemplate x:Key="CheckboxTemplate">
                <s:SurfaceCheckBox HorizontalAlignment="Stretch"
                                   IsChecked="{Binding Data, Mode=TwoWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"
                                   VerticalAlignment="Bottom"
                                   Margin="3,0,5,0">
                    <s:SurfaceCheckBox.Content>
                        <TextBlock HorizontalAlignment="Left"
                                   TextWrapping="Wrap"
                                   Text="{Binding Meta.Title}"
                                   VerticalAlignment="Top"
                                   FontSize="12"
                                   FontWeight="Bold" />
                    </s:SurfaceCheckBox.Content>
                </s:SurfaceCheckBox>
                <!--<StackPanel Margin="5,0,5,10">
                <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" Text="{Binding Meta.Title}"
                           VerticalAlignment="Top" FontSize="12" FontWeight="Bold" />
                <CheckBox HorizontalAlignment="Stretch"
                          IsChecked="{Binding Data, Mode=TwoWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"
                          VerticalAlignment="Bottom" Margin="3,0,5,0" />
            </StackPanel>-->
            </DataTemplate>

            <DataTemplate x:Key="textTemplate">
                <StackPanel Background="{x:Null}"
                            Margin="5,0,5,10">
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding Meta.Title}"
                               VerticalAlignment="Top"
                               FontSize="12"
                               FontWeight="Bold" />
                    <controls:KeyboardTextBox HorizontalAlignment="Stretch"
                                              TextWrapping="Wrap"
                                              Text="{Binding Data, Mode=TwoWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"
                                              VerticalAlignment="Top"
                                              FontSize="16"
                                              Margin="3,0,5,0"
                                              IsEnabled="{Binding Meta.CanEdit}" />
                </StackPanel>
            </DataTemplate>

            <DataTemplate x:Key="optionsTemplate"
                          DataType="dataServer:MetaLabel">
                <StackPanel Margin="5,0,5,10">
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding Meta.Title}"
                               VerticalAlignment="Top"
                               FontSize="12"
                               FontWeight="Bold" />
                    <s:SurfaceButton HorizontalAlignment="Stretch"
                                     cal:Message.Attach="[Event Click]=[Action SelectOption($dataContext,$source)]"
                                     x:Name="SelectOption"
                                     Background="Gray"
                                     Content="{Binding Data}"
                                     VerticalAlignment="Top"
                                     FontSize="16"
                                     Margin="3,0,5,0"
                                     IsEnabled="{Binding Meta.IsEditable}" />
                </StackPanel>
            </DataTemplate>

            <DataTemplate x:Key="textareaTemplate">
                <StackPanel Background="{x:Null}"
                            Margin="5,0,5,10">
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding Meta.Title}"
                               VerticalAlignment="Top"
                               FontSize="12"
                               FontWeight="Bold" />
                    <controls:KeyboardTextBox HorizontalAlignment="Stretch"
                                              Height="75"
                                              TextWrapping="Wrap"
                                              Text="{Binding Data, Mode=TwoWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"
                                              VerticalAlignment="Top"
                                              FontSize="16"
                                              Margin="3,0,5,0"
                                              IsEnabled="{Binding Meta.CanEdit}" />
                </StackPanel>
            </DataTemplate>

            <DataTemplate x:Key="BBCodeBlockTemplate">
                <StackPanel Background="{x:Null}"
                            Margin="5,0,5,10">
                    <TextBlock HorizontalAlignment="Left"
                               TextWrapping="Wrap"
                               Text="{Binding Meta.Title}"
                               VerticalAlignment="Top"
                               FontSize="12"
                               FontWeight="Bold" />
                    <controls:KeyboardTextBox HorizontalAlignment="Stretch"
                                              Height="75"
                                              TextWrapping="Wrap"
                                              Text="{Binding Data, Mode=TwoWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"
                                              VerticalAlignment="Top"
                                              FontSize="16"
                                              Margin="3,0,5,0"
                                              IsEnabled="{Binding Meta.CanEdit}" />
                </StackPanel>
            </DataTemplate>

            <viewModels:MetaLabelTemplateSelector TextTemplate="{StaticResource textTemplate}"
                                                  TextareaTemplate="{StaticResource textareaTemplate}"
                                                  BBCodeBlockTemplate="{StaticResource BBCodeBlockTemplate}"
                                                  BooleanTemplate="{StaticResource CheckboxTemplate}"
                                                  NumberTemplate="{StaticResource numberTemplate}"
                                                  OptionsTemplate="{StaticResource optionsTemplate}"
                                                  x:Key="MetaLabelTemplateSelector" />
            <Style x:Key="ButtonStyle"
                   TargetType="{x:Type s:SurfaceButton}"
                   BasedOn="{StaticResource ControlBaseStyle}">
                <Setter Property="IsTabStop"
                        Value="False" />
                <Setter Property="Focusable"
                        Value="True" />
                <Setter Property="Background"
                        Value="{DynamicResource {x:Static s:SurfaceColors.ButtonBackgroundBrushKey}}" />
                <Setter Property="Foreground"
                        Value="{DynamicResource {x:Static s:SurfaceColors.ButtonForegroundBrushKey}}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type s:SurfaceButton}">
                            <ControlTemplate.Resources>
                                <Storyboard x:Key="Press">
                                    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                   Storyboard.TargetName="PressOverlay"
                                                                   Storyboard.TargetProperty="(UIElement.Opacity)">
                                        <SplineDoubleKeyFrame KeyTime="00:00:00.1000000"
                                                              Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                                <Storyboard x:Key="Release">
                                    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                   Storyboard.TargetName="PressOverlay"
                                                                   Storyboard.TargetProperty="(UIElement.Opacity)">
                                        <SplineDoubleKeyFrame KeyTime="00:00:00.1500000"
                                                              Value="0" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </ControlTemplate.Resources>
                            <Grid x:Name="Grid"
                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                <Rectangle x:Name="ButtonBody"
                                           SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                           Fill="#4D000000" />
                                <Rectangle x:Name="PressOverlay"
                                           Opacity="0"
                                           Fill="{DynamicResource {x:Static s:SurfaceColors.ButtonBackgroundPressedBrushKey}}"
                                           SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                <ContentPresenter x:Name="Content"
                                                  Margin="{TemplateBinding Padding}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            </Grid>

                            <ControlTemplate.Triggers>
                                <Trigger Property="IsPressed"
                                         Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard Storyboard="{StaticResource Press}" />
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard Storyboard="{StaticResource Release}" />
                                    </Trigger.ExitActions>
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ButtonForegroundPressedBrushKey}}" />
                                </Trigger>
                                <Trigger Property="IsEnabled"
                                         Value="False">
                                    <Setter Property="Fill"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ButtonBackgroundDisabledBrushKey}}"
                                            TargetName="ButtonBody" />
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource {x:Static s:SurfaceColors.ButtonForegroundDisabledBrushKey}}" />
                                    <Setter Property="Opacity"
                                            Value="0.33"
                                            TargetName="Content" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
            <wpfConverters:BooleanActiveOpacityConverter x:Key="BooleanActiveOpacityConverter" />
            <DataTemplate x:Key="ConnectionTemplate">
                <Grid Opacity="{Binding Available, Converter={StaticResource BooleanActiveOpacityConverter}}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="40" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="1">
                        <TextBlock Margin="0"
                                   TextWrapping="Wrap"
                                   d:LayoutOverrides="Width">
                            <TextBlock.Text>
                                <MultiBinding StringFormat=" {0} ({1})">
                                    <Binding Path="Server" />
                                    <Binding Path="Port" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                    </StackPanel>
                    <StackPanel Grid.Column="2"
                                Orientation="Horizontal"
                                d:LayoutOverrides="Height">
                        <s:SurfaceButton x:Name="Remove"
                                         cal:Message.Attach="Remove($dataContext)"
                                         HorizontalAlignment="Right"
                                         Margin="0"
                                         VerticalAlignment="Stretch"
                                         Width="50"
                                         HorizontalContentAlignment="Center"
                                         IsEnabled="{Binding CanDelete}"
                                         Padding="4,2"
                                         VerticalContentAlignment="Center"
                                         Style="{DynamicResource ButtonStyle}">
                            <Image Width="Auto"
                                   Height="Auto"
                                   Source="/csCommon;component/Resources/Icons/appbar.delete.png" />
                        </s:SurfaceButton>
                        <s:SurfaceButton x:Name="Connect"
                                         cal:Message.Attach="Connect($dataContext)"
                                         HorizontalAlignment="Right"
                                         Margin="10,0,0,0"
                                         VerticalAlignment="Stretch"
                                         Width="50"
                                         HorizontalContentAlignment="Center"
                                         IsEnabled="{Binding Available}"
                                         Padding="4,2"
                                         VerticalContentAlignment="Center"
                                         Style="{DynamicResource ButtonStyle}">
                            <Image Width="25"
                                   Height="Auto"
                                   Source="/csCommon;component/Resources/Icons/link.png"
                                   Margin="0" />
                        </s:SurfaceButton>
                    </StackPanel>
                    <TextBlock TextWrapping="Wrap"
                               Text="✓"
                               VerticalAlignment="Top"
                               d:LayoutOverrides="Width"
                               FontSize="21.333"
                               Visibility="{Binding Current, Converter={StaticResource BooleanToVisibilityConverter}}"
                               TextAlignment="Center" />
                </Grid>
            </DataTemplate>
            <Style x:Key="TabItemStyle1"
                   TargetType="{x:Type slideTab:SlideTabItem}">
                <Setter Property="FocusVisualStyle"
                        Value="{StaticResource TabItemFocusVisual}" />
                <Setter Property="Foreground"
                        Value="White" />
                <Setter Property="BorderBrush"
                        Value="{StaticResource TabControlNormalBorderBrush}" />
                <Setter Property="Background"
                        Value="{StaticResource ButtonNormalBackground}" />
                <Setter Property="HorizontalContentAlignment"
                        Value="Stretch" />
                <Setter Property="VerticalContentAlignment"
                        Value="Stretch" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type slideTab:SlideTabItem}">
                            <Grid SnapsToDevicePixels="true"
                                  Margin="0,0,5,-1">
                                <Border x:Name="Bd"
                                        Height="30"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="0"
                                        Padding="{TemplateBinding Padding}"
                                        Background="White">
                                    <ContentPresenter ContentSource="Header" />
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsSelected"
                                         Value="False">
                                    <Setter Property="Panel.ZIndex"
                                            Value="1" />
                                    <Setter Property="Background"
                                            TargetName="Bd"
                                            Value="{x:Null}" />
                                </Trigger>
                                <Trigger Property="Selector.IsSelected"
                                         Value="True" />
                                <Trigger Property="IsEnabled"
                                         Value="false">
                                    <Setter Property="Background"
                                            TargetName="Bd"
                                            Value="{StaticResource TabItemDisabledBackground}" />
                                    <Setter Property="BorderBrush"
                                            TargetName="Bd"
                                            Value="{StaticResource TabItemDisabledBorderBrush}" />
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="ConfigToggleButtons"
                   TargetType="{x:Type s:SurfaceToggleButton}">
                <Setter Property="HorizontalContentAlignment"
                        Value="Center" />
                <Setter Property="VerticalContentAlignment"
                        Value="Center" />
                <Setter Property="Padding"
                        Value="7" />
                <Setter Property="Background"
                        Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                <Setter Property="Foreground"
                        Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                <Setter Property="BorderThickness"
                        Value="0" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type s:SurfaceToggleButton}">
                            <ControlTemplate.Resources>
                                <Storyboard x:Key="Press">
                                    <DoubleAnimationUsingKeyFrames BeginTime="0"
                                                                   Storyboard.TargetProperty="(UIElement.Opacity)"
                                                                   Storyboard.TargetName="PressOverlay">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0.1"
                                                              Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                                <Storyboard x:Key="Release">
                                    <DoubleAnimationUsingKeyFrames BeginTime="0"
                                                                   Storyboard.TargetProperty="(UIElement.Opacity)"
                                                                   Storyboard.TargetName="PressOverlay">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0.25"
                                                              Value="0" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </ControlTemplate.Resources>
                            <Grid x:Name="Grid"
                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                  Background="#FF9B9B9B">
                                <Border x:Name="ButtonBody"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        Background="{TemplateBinding Background}"
                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                <Border x:Name="PressOverlay"
                                        Background="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}"
                                        Opacity="0"
                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                <ContentPresenter x:Name="Content"
                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                  Content="{TemplateBinding Content}"
                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                  Margin="{TemplateBinding Padding}"
                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked"
                                         Value="True">
                                    <Setter Property="Background"
                                            TargetName="ButtonBody"
                                            Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                    <Setter Property="Background"
                                            TargetName="Grid"
                                            Value="{Binding AccentBrush}" />
                                </Trigger>
                                <Trigger Property="IsPressed"
                                         Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames BeginTime="0"
                                                                               Storyboard.TargetProperty="(UIElement.Opacity)"
                                                                               Storyboard.TargetName="PressOverlay">
                                                    <SplineDoubleKeyFrame KeyTime="0:0:0.1"
                                                                          Value="1" />
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames BeginTime="0"
                                                                               Storyboard.TargetProperty="(UIElement.Opacity)"
                                                                               Storyboard.TargetName="PressOverlay">
                                                    <SplineDoubleKeyFrame KeyTime="0:0:0.25"
                                                                          Value="0" />
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                </Trigger>
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsPressed"
                                                   Value="True" />
                                        <Condition Property="IsChecked"
                                                   Value="True" />
                                    </MultiTrigger.Conditions>
                                    <Setter Property="Background"
                                            TargetName="PressOverlay"
                                            Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                </MultiTrigger>
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsEnabled"
                                                   Value="False" />
                                        <Condition Property="IsChecked"
                                                   Value="True" />
                                    </MultiTrigger.Conditions>
                                    <Setter Property="Background"
                                            TargetName="ButtonBody"
                                            Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                    <Setter Property="Opacity"
                                            TargetName="Content"
                                            Value="0.6" />
                                </MultiTrigger>
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsEnabled"
                                                   Value="False" />
                                        <Condition Property="IsChecked"
                                                   Value="False" />
                                    </MultiTrigger.Conditions>
                                    <Setter Property="Foreground"
                                            Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                    <Setter Property="Background"
                                            TargetName="ButtonBody"
                                            Value="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type s:SurfaceColors}}}" />
                                    <Setter Property="Opacity"
                                            TargetName="Content"
                                            Value="0.33" />
                                </MultiTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.BasedOn>
                    <Style TargetType="{x:Type Control}">
                        <Setter Property="FocusVisualStyle"
                                Value="{x:Null}" />
                        <Setter Property="SnapsToDevicePixels"
                                Value="False" />
                        <Setter Property="FontFamily"
                                Value="Segoe360" />
                        <Setter Property="FontWeight"
                                Value="Normal" />
                        <Setter Property="FontSize"
                                Value="17" />
                        <Setter Property="Padding"
                                Value="6,2,10,10" />
                        <Setter Property="MinHeight"
                                Value="38" />
                        <Setter Property="MinWidth"
                                Value="38" />
                        <Setter Property="Margin"
                                Value="1" />
                        <Setter Property="HorizontalContentAlignment"
                                Value="Left" />
                        <Setter Property="VerticalContentAlignment"
                                Value="Top" />
                        <Setter Property="BorderThickness"
                                Value="2" />
                    </Style>
                </Style.BasedOn>
            </Style>
            <ItemsPanelTemplate x:Key="MediaPanel">
                <StackPanel IsItemsHost="True"
                            Orientation="Horizontal" />
            </ItemsPanelTemplate>
            <DataTemplate x:Key="MediaTemplate">
                <Grid x:Name="gMediaItem">
                    <views:MediaItem Media="{Binding}" />
                </Grid>
            </DataTemplate>
        </ResourceDictionary>
    </UserControl.Resources>
    
    
    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <pivotControl:PivotControl x:Name="Sections"
                                   HorizontalAlignment="Stretch"
                                   VerticalAlignment="Stretch"
                                   Margin="0"
                                   Grid.Row="0"
                                   ContentTemplate="{StaticResource DefaultDataTemplate}"
                                   SelectedIndex="0"
                                   HorizontalContentAlignment="Stretch"
                                   Background="White"
                                   VerticalContentAlignment="Stretch"
                                   Style="{DynamicResource PivotControlStyle1}">
            <pivotControl:PivotControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding DisplayName}"
                               TextTrimming="CharacterEllipsis"
                               MaxWidth="{Binding ActualWidth, ConverterParameter=100, Converter={wpfConverters:SubtractConverter}, ElementName=Labels}" />
                </DataTemplate>
            </pivotControl:PivotControl.ItemTemplate>
        </pivotControl:PivotControl>

        <Grid x:Name="AllMedia"
              MaxHeight="100"
              Grid.Row="2"
              VerticalAlignment="Bottom">
            <ItemsControl ItemsSource="{Binding PoI.AllMedia}"
                          ItemsPanel="{DynamicResource MediaPanel}"
                          HorizontalContentAlignment="Stretch"
                          ItemTemplate="{DynamicResource MediaTemplate}" />
        </Grid>
        
        <ItemsControl x:Name="Actions"
                      Grid.Row="1"
                      Height="50"
                      Margin="0"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Bottom"
                      HorizontalContentAlignment="Center"
                      VerticalContentAlignment="Center"
                      ItemTemplate="{DynamicResource DataTemplate1}"
                      ItemsPanel="{DynamicResource ItemsPanelTemplate1}">
            <ItemsControl.Resources>
                <ItemsPanelTemplate x:Key="ItemsPanelTemplate1">
                    <StackPanel IsItemsHost="True"
                                Orientation="Horizontal" />
                </ItemsPanelTemplate>
                <DataTemplate x:Key="DataTemplate1"
                              DataType="mapCallOut:CallOutAction">
                    <Grid Margin="10,0">
                        <s:SurfaceButton MinWidth="30"
                                         MinHeight="30"
                                         Margin="0"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"
                                         Background="{x:Null}"
                                         BorderThickness="0"
                                         Padding="0"
                                         cal:Message.Attach="[Event Click]=[Action TapAction($dataContext, $eventArgs)];[Event PreviewMouseDown]=[Action Drag($source, $dataContext,$eventArgs)];[Event PreviewTouchDown]=[Action Drag($source, $dataContext,$eventArgs)]">
                            <StackPanel Orientation="Vertical">
                                <Path Width="20"
                                      Height="20"
                                      Margin="0"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      Data="{Binding Path}"
                                      Fill="{Binding IconBrush}"
                                      RenderTransformOrigin="0.5,0.5"
                                      Stretch="Uniform">
                                    <Path.RenderTransform>
                                        <TransformGroup>
                                            <RotateTransform Angle="0" />
                                            <ScaleTransform ScaleX="1"
                                                            ScaleY="1" />
                                        </TransformGroup>
                                    </Path.RenderTransform>
                                </Path>
                                <Label Content="{Binding Title}"
                                       Foreground="Black"></Label>
                            </StackPanel>
                        </s:SurfaceButton>
                    </Grid>
                </DataTemplate>
            </ItemsControl.Resources>
        </ItemsControl>

        <!--<SlideTab:SlideTabControl Background="White"
                                  BorderThickness="0"
                                  Margin="0"
                                  Visibility="Collapsed">
            <SlideTab:SlideTabItem Header="Properties"
                                   Style="{DynamicResource TabItemStyle1}"
                                   Background="Black"
                                   Foreground="Black"
                                   Width="125"
                                   FontSize="16" />
            <SlideTab:SlideTabItem Header="Events"
                                   Style="{DynamicResource TabItemStyle1}"
                                   Foreground="Black"
                                   Width="125"
                                   Background="Black"
                                   FontSize="16">
                <Grid Background="White"
                      HorizontalAlignment="Stretch"
                      VerticalAlignment="Stretch">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Grid x:Name="gNewEvent"
                          Grid.Row="1">
                        <ItemsControl x:Name="EventTypes"
                                      HorizontalContentAlignment="Stretch"
                                      VerticalContentAlignment="Stretch"
                                      ItemsPanel="{DynamicResource ItemsPanelTemplate1}"
                                      ItemTemplate="{DynamicResource DataTemplate1}">
                            <ItemsControl.Resources>
                                <ItemsPanelTemplate x:Key="ItemsPanelTemplate1">
                                    <StackPanel IsItemsHost="True"
                                                Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                                <DataTemplate x:Key="DataTemplate1">
                                    <Grid>
                                        <s:SurfaceButton Content="{Binding Name}"
                                                         cal:Message.Attach="[Event Click]=[Action AddEvent($dataContext)]"
                                                         HorizontalAlignment="Left"
                                                         Margin="0"
                                                         VerticalAlignment="Top" />
                                    </Grid>
                                </DataTemplate>
                            </ItemsControl.Resources>
                        </ItemsControl>
                    </Grid>
                    <s:SurfaceListBox x:Name="PoiEvents" />
                </Grid>
            </SlideTab:SlideTabItem>
        </SlideTab:SlideTabControl>-->
        
        <!--<Grid Background="White"
              Margin="0"
              Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <ItemsControl x:Name="Connections"
                          Grid.Row="1"
                          HorizontalContentAlignment="Stretch"
                          ItemTemplate="{DynamicResource ConnectionTemplate}" />
            <Grid Margin="15,15,0,10">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <pivotControl:PivotControl x:Name="Sections"
                                               HorizontalAlignment="Stretch"
                                               VerticalAlignment="Stretch"
                                               Margin="0"
                                               Grid.Row="0"
                                               ContentTemplate="{StaticResource DefaultDataTemplate}"
                                               SelectedIndex="0"
                                               HorizontalContentAlignment="Stretch"
                                               Background="White"
                                               VerticalContentAlignment="Stretch"
                                               Style="{DynamicResource PivotControlStyle1}">
                        <pivotControl:PivotControl.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding DisplayName}"
                                           TextTrimming="CharacterEllipsis"
                                           MaxWidth="{Binding ActualWidth, ConverterParameter=100, Converter={wpfConverters:SubtractConverter}, ElementName=Labels}" />
                            </DataTemplate>
                        </pivotControl:PivotControl.ItemTemplate>
                    </pivotControl:PivotControl>

                    <ItemsControl x:Name="Actions"
                                  Grid.Row="1"
                                  Height="50"
                                  Margin="0"
                                  HorizontalAlignment="Center"
                                  VerticalAlignment="Bottom"
                                  HorizontalContentAlignment="Center"
                                  VerticalContentAlignment="Center"
                                  ItemTemplate="{DynamicResource DataTemplate1}"
                                  ItemsPanel="{DynamicResource ItemsPanelTemplate1}">
                        <ItemsControl.Resources>
                            <ItemsPanelTemplate x:Key="ItemsPanelTemplate1">
                                <StackPanel IsItemsHost="True"
                                            Orientation="Horizontal" />
                            </ItemsPanelTemplate>
                            <DataTemplate x:Key="DataTemplate1"
                                          DataType="mapCallOut:CallOutAction">
                                <Grid Margin="10,0">
                                    <s:SurfaceButton MinWidth="30"
                                                          MinHeight="30"
                                                          Margin="0"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Center"
                                                          Background="{x:Null}"
                                                          BorderThickness="0"
                                                          Padding="0"
                                                          cal:Message.Attach="[Event Click]=[Action TapAction($dataContext, $eventArgs)];[Event PreviewMouseDown]=[Action Drag($source, $dataContext,$eventArgs)];[Event PreviewTouchDown]=[Action Drag($source, $dataContext,$eventArgs)]">
                                        <StackPanel Orientation="Vertical">
                                            <Path Width="20"
                                                  Height="20"
                                                  Margin="0"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  Data="{Binding Path}"
                                                  Fill="{Binding IconBrush}"
                                                  RenderTransformOrigin="0.5,0.5"
                                                  Stretch="Uniform">
                                                <Path.RenderTransform>
                                                    <TransformGroup>
                                                        <RotateTransform Angle="0" />
                                                        <ScaleTransform ScaleX="1"
                                                                        ScaleY="1" />
                                                    </TransformGroup>
                                                </Path.RenderTransform>
                                            </Path>
                                            <Label Content="{Binding Title}"
                                                   Foreground="Black"></Label>
                                        </StackPanel>
                                    </s:SurfaceButton>
                                </Grid>
                            </DataTemplate>
                        </ItemsControl.Resources>
                    </ItemsControl>

                    --><!--<s:SurfaceButton Grid.Row="1"
                                     Name="SavePoi"
                                     Visibility="{Binding IsNewPoi, Converter={StaticResource BooleanToVisibilityConverter}}"
                                     HorizontalAlignment="Right"
                                     Width="100"
                                     Margin="0,0,10,0"
                                     Height="40"
                                     Background="#FFA6A6A6"
                                     Foreground="Black"
                                     HorizontalContentAlignment="Stretch"
                                     VerticalContentAlignment="Stretch"
                                     Padding="0">
                        <Grid Height="40"
                              Width="100">
                            <Image HorizontalAlignment="Left"
                                   Height="40"
                                   VerticalAlignment="Top"
                                   Width="100"
                                   Source="/csCommon;component/Resources/Icons/add.png" />
                            <TextBlock HorizontalAlignment="Right"
                                       TextWrapping="Wrap"
                                       Text="Add"
                                       VerticalAlignment="Center"
                                       Margin="0,0,20,0" />
                        </Grid>
                    </s:SurfaceButton>--><!--
                </Grid>
            </Grid>

            <Grid x:Name="AllMedia"
                  Height="100"
                  Grid.RowSpan="2"
                  VerticalAlignment="Bottom">
                <ItemsControl Height="100"
                              VerticalAlignment="Top"
                              ItemsSource="{Binding PoI.AllMedia}"
                              ItemsPanel="{DynamicResource MediaPanel}"
                              HorizontalContentAlignment="Stretch"
                              ItemTemplate="{DynamicResource MediaTemplate}" />
            </Grid>
        </Grid>-->
        
        
        <!--<Image Height="75"
               VerticalAlignment="Top"
               ThirdParty1:Loader.DisplayOption="FullResolution"
               ThirdParty1:Loader.SourceType="ExternalResource"
               ThirdParty1:Loader.Source="c:\temp\streetview.jpg"
               ThirdParty1:Loader.DisplayWaitingAnimationDuringLoading="True"
               Stretch="Fill"
               Visibility="Collapsed" />-->
    </Grid>
</UserControl>